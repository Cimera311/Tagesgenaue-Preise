<!DOCTYPE html>
<html>
<head>
    <title>Krypto Preis Abfrage</title>
    <script src="src/scripts/price-data-btc.js"></script>
    <script src="src/scripts/price-data-gmt.js"></script>
</head>
<body>
    <h1>Tagesgenaue Krypto-Preise</h1>
    <input type="date" id="date" value="2024-01-15">
    <select id="currency">
        <option value="BTC">Bitcoin</option>
        <option value="GOMINING">GoMining</option>
    </select>
    <button onclick="getPrice()">Preis abrufen</button>
    <div id="result"></div>

    <script>
        function getPrice() {
            const date = document.getElementById('date').value;
            const currency = document.getElementById('currency').value;
            
            // Daten aus den vorgeladenen JS-Objekten holen
            const data = currency === 'BTC' ? btcPriceData : gmtPriceData;
            
            if (data[date]) {
                const price = data[date];
                document.getElementById('result').innerHTML = `
                    <h3>${currency} am ${date}</h3>
                    <p>EUR: ${price.price_eur}</p>
                    <p>USD: ${price.price_usd}</p>
                `;
            } else {
                document.getElementById('result').innerHTML = 'Kein Preis f√ºr dieses Datum gefunden';
            }
        }

        // URL-Parameter auslesen
        const urlParams = new URLSearchParams(window.location.search);
        const presetDate = urlParams.get('date');
        const presetCurrency = urlParams.get('currency');
        
        window.onload = function() {
            if (presetDate) document.getElementById('date').value = presetDate;
            if (presetCurrency) document.getElementById('currency').value = presetCurrency;
            if (presetDate && presetCurrency) getPrice();
        };
    </script>
</body>
</html>